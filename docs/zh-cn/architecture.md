# VIVA 系统架构 (v2.0 - Cortex/皮层)

## 概述
VIVA 是一个合成生物体，建立在**混合认知架构**之上，该架构结合了生物合理性（液态网络）、符号推理（知识图谱）和竞争性注意（全局工作空间）。

## 核心组件

### 1. 灵魂 (VivaCore)
负责意识、情感和决策。

- **液态皮层 (Liquid Cortex)**: 运行 `NCPS` (神经回路策略) 的 Python 微服务。模拟连续时间的情绪动力学。
    - *输入*: 叙事体验 + 当前 PAD。
    - *输出*: 未来 PAD + 液态状态向量。
    - *角色*: “潜意识”情感处理器。

- **全局工作空间 (Thoughtseeds)**: 实现“意识剧场”的 Elixir GenServer。
    - *机制*: 多个“种子”（想法、感觉）争夺显著性 (Salience)。
    - *关注*: 获胜的种子被广播到整个系统（语音、运动、记忆）。
    - *角色*: “有意识”的注意能力。

- **Ultra (推理)**: 键值/图推理引擎。
    - *角色*: 推断隐藏的关系和因果关系。

### 2. 身体 (VivaBridge)
物理接口和稳态基质。

- **BodyServer (Elixir)**: 编排身体状态（能量、代谢、健康）。
    - *反馈循环*: 接收来自 Cortex 的情绪预测并调整内部状态。
- **神经桥接 (Rust/Bevy)**: 无头 ECS 物理模拟。
    - *角色*: 模拟物理约束（热量、功率、压力）。

## 目录结构
- `apps/viva_core`: 认知逻辑 (Elixir)。
- `apps/viva_bridge`: 物理/IO (Elixir + Rust)。
- `services/cortex`: 液态神经网络 (Python)。
- `services/ultra`: 知识图谱推理 (Python)。
